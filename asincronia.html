<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asincron√≠a en JavaScript</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand"></div>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Inicio</a></li>
                <li><a href="fundamentos.html" class="nav-link">Fundamentos</a></li>
                <li><a href="urls-endpoints.html" class="nav-link">URLs & Endpoints</a></li>
                <li><a href="metodos-http.html" class="nav-link">M√©todos HTTP</a></li>
                <li><a href="codigos-respuesta.html" class="nav-link">C√≥digos HTTP</a></li>
                <li><a href="asincronia.html" class="nav-link active">Asincron√≠a JS</a></li>
                <li><a href="manejo-errores.html" class="nav-link">Manejo de Errores</a></li>
                <li><a href="demos.html" class="nav-link btn-demo">Demos</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Hero -->
    <section class="page-hero">
        <div class="container">
            <div class="breadcrumb">
                <a href="index.html">Inicio</a>
                <span>/</span>
                <span>Asincron√≠a en JavaScript</span>
            </div>
            <h1 class="page-title">La Asincron√≠a en JavaScript</h1>
            <p class="page-subtitle">XMLHttpRequest, Fetch, Promises y Async/Await</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Introducci√≥n -->
            <section class="content-section fade-in">
                <h2 class="section-heading">¬øQu√© es la Asincron√≠a?</h2>
                <p class="intro-text">La asincron√≠a es uno de los conceptos principales que existe en el mundo de JavaScript. Cuando comenzamos, es muy com√∫n trabajar con c√≥digo s√≠ncrono (secuencial), sin embargo, llegado a un punto necesitaremos trabajar con c√≥digo as√≠ncrono, el cual puede ser muy frustrante si no lo entendemos bien.</p>
            </section>

            <!-- Sincron√≠a -->
            <section class="content-section fade-in">
                <h2 class="section-heading">¬øQu√© es la Sincron√≠a?</h2>
                <div class="definition-box">
                    <div class="definition-icon">‚è≠Ô∏è</div>
                    <div class="definition-content">
                        <p class="definition-text">
                            En programaci√≥n, cuando hablamos de sincron√≠a, nos referimos a una forma de ejecutar el c√≥digo. Cuando comenzamos a programar, normalmente realizamos <strong>tareas de forma s√≠ncrona</strong>, llevando a cabo tareas secuenciales que se ejecutan una detr√°s de otra, de modo que el orden o flujo del programa es sencillo y f√°cil de observar en el c√≥digo.
                        </p>
                    </div>
                </div>

                <p class="intro-text">Sin embargo, en el mundo de la programaci√≥n, tarde o temprano necesitaremos realizar operaciones as√≠ncronas, especialmente en ciertos lenguajes como JavaScript, donde tenemos que realizar tareas que tienen que esperar a que ocurra un determinado suceso.</p>

                <div class="highlight-box">
                    <h4>Caracter√≠sticas de un suceso as√≠ncrono:</h4>
                    <ul style="color: var(--text-secondary); line-height: 1.8;">
                        <li>Generalmente, no depende de nosotros</li>
                        <li>No solemos saber cu√°ndo va a ocurrir</li>
                        <li>A veces, ni siquiera sabemos si va a ocurrir</li>
                    </ul>
                </div>

                <div class="note-text">
                    <strong>Importante:</strong> Nuestro c√≥digo tiene que saber gestionar esas caracter√≠sticas, y reaccionar solo cuando dicho suceso ocurra.
                </div>
            </section>

            <!-- XMLHttpRequest -->
            <section class="content-section fade-in">
                <h2 class="section-heading">El objeto XMLHttpRequest</h2>
                <div class="definition-box" style="border-color: var(--warning-color);">
                    <div class="definition-icon">üì°</div>
                    <div class="definition-content">
                        <p class="definition-text">
                            El objeto XMLHttpRequest se puede utilizar para <strong>solicitar datos de un servidor web</strong>. Es el sue√±o de cualquier desarrollador, porque permite:
                        </p>
                    </div>
                </div>

                <div class="types-grid" style="grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));">
                    <div class="highlight-box">
                        <h4>‚ú® Actualizar sin recargar</h4>
                        <p>Actualizar una p√°gina web sin recargarla</p>
                    </div>
                    <div class="highlight-box">
                        <h4>üì• Solicitar datos</h4>
                        <p>Solicitar datos de un servidor despu√©s de que se haya cargado la p√°gina</p>
                    </div>
                    <div class="highlight-box">
                        <h4>üì§ Recibir datos</h4>
                        <p>Recibir datos de un servidor despu√©s de que se haya cargado la p√°gina</p>
                    </div>
                    <div class="highlight-box">
                        <h4>üîÑ Enviar en segundo plano</h4>
                        <p>Enviar datos a un servidor en segundo plano</p>
                    </div>
                </div>

                <div class="highlight-box" style="margin-top: 2rem;">
                    <h4>üå§Ô∏è Ejemplo cotidiano: App de clima</h4>
                    <p>Piensa en una app de clima:</p>
                    <ul style="color: var(--text-secondary); line-height: 1.8; margin-top: 0.5rem;">
                        <li>Cada vez que eliges una ciudad, el navegador pide al servidor la informaci√≥n del clima actual usando XMLHttpRequest.</li>
                        <li>El servidor responde con los datos del clima (temperatura, humedad, etc.).</li>
                        <li>La p√°gina actualiza solo esa parte, sin volver a cargar todo el sitio.</li>
                    </ul>
                </div>
            </section>

            <!-- Fetch -->
            <section class="content-section fade-in">
                <h2 class="section-heading">M√©todo Fetch</h2>
                <div class="definition-box" style="border-color: var(--primary-color);">
                    <div class="definition-icon">üöÄ</div>
                    <div class="definition-content">
                        <p class="definition-text">
                            Fetch es el nombre de una nueva API para JavaScript con la cual podemos realizar <strong>peticiones HTTP as√≠ncronas utilizando promesas</strong> y de forma que el c√≥digo sea un poco m√°s sencillo y menos verbose. La forma de realizar una petici√≥n es muy sencilla, b√°sicamente se trata de llamar a fetch y pasarle por par√°metro la URL de la petici√≥n a realizar.
                        </p>
                    </div>
                </div>

                <h3 class="subsection-title">Ventajas del m√©todo Fetch</h3>
                <div class="types-grid">
                    <div class="type-card">
                        <div class="type-icon">üåç</div>
                        <h3>Familiaridad entre plataformas</h3>
                        <p>La misma sintaxis de b√∫squeda funciona en todos los entornos de JavaScript (navegadores, Node.js, React), lo que facilita el aprendizaje y la reutilizaci√≥n del c√≥digo.</p>
                    </div>
                    <div class="type-card">
                        <div class="type-icon">‚ö°</div>
                        <h3>Implementaci√≥n m√°s r√°pida</h3>
                        <p>En Node.js, el uso de Undici como base de fetch mejora la velocidad, la confiabilidad y la compatibilidad con los est√°ndares de Node.</p>
                    </div>
                    <div class="type-card">
                        <div class="type-icon">üîó</div>
                        <h3>Sintaxis basada en promesas</h3>
                        <p>Fetch usa promesas en lugar de callbacks, lo que hace el c√≥digo m√°s limpio y f√°cil de manejar en operaciones as√≠ncronas como las llamadas AJAX.</p>
                    </div>
                </div>
            </section>

            <!-- Fetch vs XMLHttpRequest -->
            <section class="content-section fade-in">
                <h2 class="section-heading">Fetch vs XMLHttpRequest</h2>
                <h3 class="subsection-title">¬øCu√°ndo usar cada uno?</h3>
                
                <div class="types-grid" style="grid-template-columns: 1fr 1fr;">
                    <div class="type-card" style="border-color: var(--primary-color);">
                        <div class="type-icon">üöÄ</div>
                        <h3 style="color: var(--primary-color);">Usa Fetch si:</h3>
                        <ul style="text-align: left; color: var(--text-secondary); font-size: 0.9rem; line-height: 1.8;">
                            <li>Est√°s en una app moderna y puedes usar polyfills para navegadores antiguos</li>
                            <li>Quieres c√≥digo m√°s limpio con async/await</li>
                            <li>Necesitas integrarte con Service Workers/Cache API, streams de lectura o pol√≠ticas de CORS/credenciales</li>
                            <li>No requieres eventos de progreso de subida detallados</li>
                        </ul>
                    </div>
                    
                    <div class="type-card" style="border-color: var(--warning-color);">
                        <div class="type-icon">üì°</div>
                        <h3 style="color: var(--warning-color);">Usa XMLHttpRequest si:</h3>
                        <ul style="text-align: left; color: var(--text-secondary); font-size: 0.9rem; line-height: 1.8;">
                            <li>Debes soportar navegadores muy antiguos sin polyfills (ej. IE)</li>
                            <li>Necesitas eventos de progreso de subida o descarga nativos</li>
                            <li>Quieres timeout nativo sin construirlo t√∫</li>
                            <li>Est√°s en una base de c√≥digo que ya usa XHR y migrar ser√≠a costoso</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Promises -->
            <section class="content-section fade-in">
                <h2 class="section-heading">Promises (Promesas)</h2>
                <div class="definition-box" style="border-color: var(--accent-color);">
                    <div class="definition-icon">ü§ù</div>
                    <div class="definition-content">
                        <p class="definition-text">
                            Una <strong>promesa</strong> es un objeto JavaScript especial que une el "c√≥digo productor" y el "c√≥digo consumidor". En t√©rminos de analog√≠a, es como una lista de suscripci√≥n.
                        </p>
                    </div>
                </div>

                <div class="highlight-box">
                    <h4>üéµ Analog√≠a: El cantante y sus fans</h4>
                    <p>Imagina que eres un gran cantante y los fan√°ticos te preguntan d√≠a y noche por tu pr√≥xima canci√≥n.</p>
                    <p style="margin-top: 0.5rem;">Para obtener algo de alivio, prometes envi√°rselos cuando se publique. Les das a tus fans una lista donde pueden registrar sus direcciones de correo electr√≥nico, de modo que cuando la canci√≥n est√© disponible, todas las partes suscritas la reciban instant√°neamente. E incluso si algo sale muy mal, digamos un incendio en el estudio tal que no puedas publicar la canci√≥n, a√∫n se les notificar√°.</p>
                </div>

                <h3 class="subsection-title">Componentes de una promesa</h3>
                <ol class="process-list">
                    <li><strong>Un "c√≥digo productor"</strong> que hace algo y toma tiempo. Por ejemplo, alg√∫n c√≥digo que carga los datos a trav√©s de una red. Eso es un "cantante".</li>
                    <li><strong>Un "c√≥digo consumidor"</strong> que quiere el resultado del "c√≥digo productor" una vez que est√° listo. Muchas funciones pueden necesitar ese resultado. Estos son los "fans".</li>
                    <li><strong>Una promesa</strong> es un objeto JavaScript especial que une el "c√≥digo productor" y el "c√≥digo consumidor". El "c√≥digo productor" toma el tiempo que sea necesario para producir el resultado prometido, y la "promesa" hace que ese resultado est√© disponible para todo el c√≥digo suscrito cuando est√© listo.</li>
                </ol>

                <div class="note-text">
                    <strong>Importante:</strong> Las promesas pueden cumplirse (fulfilled) o no cumplirse (rejected).
                </div>

                <div class="highlight-box" style="margin-top: 2rem;">
                    <h4>Se usan Promises principalmente en:</h4>
                    <ul style="color: var(--text-secondary); line-height: 1.8;">
                        <li>Llamadas a APIs externas</li>
                        <li>Operaciones de lectura/escritura de archivos</li>
                        <li>Consultas a bases de datos</li>
                        <li>Cualquier operaci√≥n que tome tiempo indeterminado</li>
                    </ul>
                </div>
            </section>

            <!-- Async/Await -->
            <section class="content-section fade-in">
                <h2 class="section-heading">Async/Await</h2>
                <div class="definition-box" style="border-color: var(--secondary-color);">
                    <div class="definition-icon">‚ö°</div>
                    <div class="definition-content">
                        <p class="definition-text">
                            Existe una sintaxis especial para trabajar con promesas de una forma m√°s confortable, llamada <strong>"async/await"</strong>. Es sorprendentemente f√°cil de entender y usar.
                        </p>
                    </div>
                </div>

                <p class="intro-text">Las palabras clave async y await, implementadas a partir de ES2017, son una sintaxis que simplifica la programaci√≥n as√≠ncrona, facilitando el flujo de escritura y lectura de c√≥digo; por lo que es posible escribir c√≥digo que funcione de forma as√≠ncrona, pero que se lea y estructure de forma s√≠ncrona.</p>

                <div class="highlight-box">
                    <h4>üîë C√≥mo funciona</h4>
                    <p>Al definir una funci√≥n como <strong>async</strong>, podemos usar la palabra clave <strong>await</strong> antes de cualquier expresi√≥n que retorne una promesa. De esta forma, la ejecuci√≥n de la funci√≥n externa (la funci√≥n async) se pausar√° hasta que se resuelva la Promesa.</p>
                </div>

                <div class="highlight-box">
                    <h4>‚öôÔ∏è Funcionamiento de await</h4>
                    <p>La palabra clave <strong>await</strong> recibe una Promesa y la convierte en un valor de retorno (o genera una excepci√≥n en caso de error). Cuando usamos await, JavaScript esperar√° hasta que finalice la Promesa.</p>
                    <ul style="color: var(--text-secondary); line-height: 1.8; margin-top: 0.5rem;">
                        <li>Si se completa con √©xito (fulfilled), el valor obtenido es retornado.</li>
                        <li>Si la Promesa es rechazada (rejected), se retorna el error arrojado por la excepci√≥n.</li>
                    </ul>
                </div>

                <div class="note-text">
                    <strong>Regla importante:</strong> await solo funciona si est√° dentro de otra funci√≥n async.
                </div>

                <div class="highlight-box" style="margin-top: 2rem;">
                    <h4>Se usa Async/Await principalmente en:</h4>
                    <ul style="color: var(--text-secondary); line-height: 1.8;">
                        <li>Consumo de APIs REST</li>
                        <li>Operaciones con bases de datos</li>
                        <li>Lectura/escritura de archivos</li>
                        <li>Cualquier c√≥digo que use Promises y que se beneficie de una sintaxis m√°s limpia</li>
                    </ul>
                </div>
            </section>

            <!-- Resumen comparativo -->
            <section class="content-section fade-in">
                <h2 class="section-heading">Resumen: M√©todos de Asincron√≠a</h2>
                <div class="types-grid">
                    <div class="type-card" style="border-color: var(--warning-color);">
                        <div class="type-icon">üì°</div>
                        <h3>XMLHttpRequest</h3>
                        <p><strong>√âpoca:</strong> M√©todo tradicional</p>
                        <p><strong>Sintaxis:</strong> Callbacks</p>
                        <p><strong>Uso:</strong> C√≥digo legacy</p>
                    </div>
                    
                    <div class="type-card" style="border-color: var(--primary-color);">
                        <div class="type-icon">üöÄ</div>
                        <h3>Fetch</h3>
                        <p><strong>√âpoca:</strong> Moderno (ES6+)</p>
                        <p><strong>Sintaxis:</strong> Promises</p>
                        <p><strong>Uso:</strong> Apps modernas</p>
                    </div>
                    
                    <div class="type-card" style="border-color: var(--accent-color);">
                        <div class="type-icon">ü§ù</div>
                        <h3>Promises</h3>
                        <p><strong>√âpoca:</strong> ES6 (2015)</p>
                        <p><strong>Sintaxis:</strong> .then().catch()</p>
                        <p><strong>Uso:</strong> Base de async</p>
                    </div>
                    
                    <div class="type-card" style="border-color: var(--secondary-color);">
                        <div class="type-icon">‚ö°</div>
                        <h3>Async/Await</h3>
                        <p><strong>√âpoca:</strong> ES2017</p>
                        <p><strong>Sintaxis:</strong> C√≥digo s√≠ncrono</p>
                        <p><strong>Uso:</strong> M√°s legible</p>
                    </div>
                </div>
            </section>

            <!-- Navigation -->
            <nav class="page-navigation">
                <a href="codigos-respuesta.html" class="nav-btn nav-prev">‚Üê C√≥digos HTTP</a>
                <a href="manejo-errores.html" class="nav-btn nav-next">Manejo de Errores ‚Üí</a>
            </nav>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Proyecto Acad√©mico</h4>
                    <p>ISW-512 Dise√±o de Aplicaciones Web<br>Universidad T√©cnica Nacional<br>2025 - Ciclo III</p>
                </div>
                <div class="footer-section">
                    <h4>Navegaci√≥n</h4>
                    <ul class="footer-links">
                        <li><a href="fundamentos.html">Fundamentos</a></li>
                        <li><a href="metodos-http.html">M√©todos HTTP</a></li>
                        <li><a href="demos.html">Demos</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Recursos</h4>
                    <ul class="footer-links">
                        <li><a href="#" target="_blank">Documentaci√≥n</a></li>
                        <li><a href="#" target="_blank">GitHub</a></li>
                        <li><a href="#" target="_blank">Referencias</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Grupo de APIs - Todos los derechos reservados</p>
            </div>
        </div>
    </footer>

    <script>
        const navToggle = document.querySelector('.nav-toggle');
        const navMenu = document.querySelector('.nav-menu');

        navToggle.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            navToggle.classList.toggle('active');
        });

        document.addEventListener('click', (e) => {
            if (!navToggle.contains(e.target) && !navMenu.contains(e.target)) {
                navMenu.classList.remove('active');
                navToggle.classList.remove('active');
            }
        });

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in');
                }
            });
        });

        document.querySelectorAll('.content-section').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>