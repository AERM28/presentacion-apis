<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Asincron√≠a en JavaScript - Consumo de APIs</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/paginas.css">
    <link rel="stylesheet" href="css/asincronia.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <span class="logo">API</span>
                <span class="brand-text">Consumo de APIs</span>
            </div>
            <button class="nav-toggle" aria-label="Toggle navigation">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="nav-menu">
                <li><a href="index.html" class="nav-link">Inicio</a></li>
                <li><a href="fundamentos.html" class="nav-link">Fundamentos</a></li>
                <li><a href="urls-endpoints.html" class="nav-link">URLs & Endpoints</a></li>
                <li><a href="metodos-http.html" class="nav-link">M√©todos HTTP</a></li>
                <li><a href="codigos-respuesta.html" class="nav-link">C√≥digos HTTP</a></li>
                <li><a href="asincronia.html" class="nav-link active">Asincron√≠a JS</a></li>
                <li><a href="manejo-errores.html" class="nav-link">Manejo de Errores</a></li>
                <li><a href="demos.html" class="nav-link btn-demo">Demos</a></li>
            </ul>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="page-hero">
        <div class="container">
            <div class="breadcrumb">
                <a href="index.html">Inicio</a>
                <span>/</span>
                <span>Asincron√≠a en JavaScript</span>
            </div>
            <h1 class="page-title">Asincron√≠a en JavaScript</h1>
            <p class="page-subtitle">Domina el c√≥digo as√≠ncrono para trabajar eficientemente con APIs y operaciones que toman tiempo</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Introduction -->
            <section class="content-section">
                <h2 class="section-heading">La Asincron√≠a en JavaScript</h2>
                <div class="intro-box">
                    <p class="intro-text">
                        La <strong>asincron√≠a</strong> es uno de los conceptos principales que existe en el mundo de JavaScript. 
                        Cuando comenzamos, es muy com√∫n trabajar con c√≥digo s√≠ncrono (secuencial), sin embargo, llegado a un punto 
                        necesitaremos trabajar con c√≥digo as√≠ncrono, el cual puede ser muy frustrante si no lo entendemos bien.
                    </p>
                </div>
            </section>

            <!-- Syncron√≠a vs Asincron√≠a -->
            <section class="content-section">
                <h2 class="section-heading">¬øQu√© es la Sincron√≠a?</h2>
                <p>En programaci√≥n, cuando hablamos de sincron√≠a, nos referimos a una forma de ejecutar el c√≥digo. Cuando comenzamos a programar, 
                normalmente realizamos tareas de forma s√≠ncrona, llevando a cabo tareas <strong>secuenciales</strong> que se ejecutan una detr√°s 
                de otra, de modo que el orden o flujo del programa es sencillo y f√°cil de observar en el c√≥digo.</p>

                <!-- IMAGE: Sync vs Async Diagram -->
                <figure class="content-image">
                    <img src="images/sincronia-vs-asincronia.png" alt="Comparaci√≥n entre c√≥digo s√≠ncrono y as√≠ncrono" class="img-rounded img-shadow">
                    <figcaption>Diferencia entre ejecuci√≥n s√≠ncrona y as√≠ncrona</figcaption>
                </figure>

                <div class="comparison-box">
                    <div class="comparison-side sync-side">
                        <h3>‚è≠Ô∏è C√≥digo S√≠ncrono</h3>
                        <ul>
                            <li>Se ejecuta l√≠nea por l√≠nea</li>
                            <li>Cada operaci√≥n espera a que la anterior termine</li>
                            <li>Flujo secuencial y predecible</li>
                            <li>F√°cil de entender y seguir</li>
                        </ul>
                    </div>
                    <div class="comparison-side async-side">
                        <h3>‚ö° C√≥digo As√≠ncrono</h3>
                        <ul>
                            <li>No bloquea la ejecuci√≥n</li>
                            <li>M√∫ltiples operaciones pueden ejecutarse simult√°neamente</li>
                            <li>Ideal para operaciones que toman tiempo</li>
                            <li>Requiere manejo especial</li>
                        </ul>
                    </div>
                </div>

                <div class="highlight-box">
                    <h4>¬øCu√°ndo necesitamos c√≥digo as√≠ncrono?</h4>
                    <p>En el mundo de la programaci√≥n, tarde o temprano necesitaremos realizar operaciones as√≠ncronas, especialmente en 
                    JavaScript, donde tenemos que realizar tareas que tienen que esperar a que ocurra un determinado suceso.</p>
                    <p><strong>Este suceso tiene varias caracter√≠sticas:</strong></p>
                    <ul>
                        <li>Generalmente, no depende de nosotros</li>
                        <li>No solemos saber cu√°ndo va a ocurrir</li>
                        <li>A veces, ni siquiera sabemos si va a ocurrir</li>
                    </ul>
                    <p>Nuestro c√≥digo tiene que saber gestionar esas caracter√≠sticas, y reaccionar s√≥lo cuando dicho suceso ocurra.</p>
                </div>
            </section>

            <!-- XMLHttpRequest -->
            <section class="content-section">
                <h2 class="section-heading">El Objeto XMLHttpRequest</h2>
                <p>El objeto XMLHttpRequest se puede utilizar para solicitar datos de un servidor web.</p>

                <div class="feature-box">
                    <h3>El objeto XMLHttpRequest es el sue√±o de cualquier desarrollador, porque permite:</h3>
                    <ul>
                        <li>Actualizar una p√°gina web sin recargarla</li>
                        <li>Solicitar datos de un servidor despu√©s de que se haya cargado la p√°gina</li>
                        <li>Recibir datos de un servidor despu√©s de que se haya cargado la p√°gina</li>
                        <li>Enviar datos a un servidor en segundo plano</li>
                    </ul>
                </div>

                <!-- IMAGE: XMLHttpRequest Example -->
                <figure class="content-image">
                    <img src="images/xmlhttprequest-ejemplo.png" alt="Ejemplo de XMLHttpRequest" class="img-rounded img-shadow">
                    <figcaption>Ejemplo de uso de XMLHttpRequest</figcaption>
                </figure>

                <div class="example-box">
                    <h4>üìå Ejemplo cotidiano</h4>
                    <p>Piensa en una app de clima:</p>
                    <ul>
                        <li>Cada vez que eliges una ciudad, el navegador pide al servidor la informaci√≥n del clima actual usando XMLHttpRequest.</li>
                        <li>El servidor responde con los datos del clima (temperatura, humedad, etc.).</li>
                        <li>La p√°gina actualiza solo esa parte, sin volver a cargar todo el sitio.</li>
                    </ul>
                </div>
            </section>

            <!-- Fetch API -->
            <section class="content-section">
                <h2 class="section-heading">M√©todo fetch()</h2>
                <p>Fetch es el nombre de una nueva API para JavaScript con la cual podemos realizar peticiones HTTP as√≠ncronas 
                utilizando promesas y de forma que el c√≥digo sea un poco m√°s sencillo y menos verbose. La forma de realizar una 
                petici√≥n es muy sencilla, b√°sicamente se trata de llamar a <code>fetch</code> y pasarle por par√°metro la URL de 
                la petici√≥n a realizar.</p>

                <!-- IMAGE: Fetch Example -->
                <figure class="content-image">
                    <img src="images/fetch-ejemplo.png" alt="Ejemplo de m√©todo fetch" class="img-rounded img-shadow">
                    <figcaption>Ejemplo de uso del m√©todo fetch()</figcaption>
                </figure>

                <div class="advantages-box">
                    <h3>‚ú® Ventajas del m√©todo fetch</h3>
                    <div class="advantage-item">
                        <div class="advantage-icon">üåç</div>
                        <div class="advantage-content">
                            <h4>Familiaridad entre plataformas</h4>
                            <p>La misma sintaxis de fetch funciona en todos los entornos de JavaScript (navegadores, Node.js, React), 
                            lo que facilita el aprendizaje y la reutilizaci√≥n del c√≥digo.</p>
                        </div>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">‚ö°</div>
                        <div class="advantage-content">
                            <h4>Implementaci√≥n m√°s r√°pida</h4>
                            <p>En Node.js, el uso de Undici como base de fetch mejora la velocidad, la confiabilidad y la compatibilidad 
                            con los est√°ndares de Node.</p>
                        </div>
                    </div>
                    <div class="advantage-item">
                        <div class="advantage-icon">üéØ</div>
                        <div class="advantage-content">
                            <h4>Sintaxis basada en promesas</h4>
                            <p>Fetch usa promesas en lugar de callbacks, lo que hace el c√≥digo m√°s limpio y f√°cil de manejar en 
                            operaciones as√≠ncronas como las llamadas AJAX.</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Fetch vs XMLHttpRequest -->
            <section class="content-section">
                <h2 class="section-heading">Fetch vs XMLHttpRequest</h2>

                <!-- IMAGE: Comparison Table -->
                <figure class="content-image">
                    <img src="images/fetch-vs-xhr.png" alt="Comparaci√≥n Fetch vs XMLHttpRequest" class="img-rounded img-shadow">
                    <figcaption>Tabla comparativa: Fetch vs XMLHttpRequest</figcaption>
                </figure>

                <div class="when-to-use">
                    <h3>¬øCu√°ndo usar cada uno?</h3>
                    
                    <div class="use-case-card fetch-card">
                        <h4>üöÄ Usa <code>fetch</code> si:</h4>
                        <ul>
                            <li>Est√°s en una app moderna y puedes usar polyfills para navegadores antiguos si hace falta.</li>
                            <li>Quieres c√≥digo m√°s limpio con async/await.</li>
                            <li>Necesitas integrarte con Service Workers/Cache API, streams de lectura o pol√≠ticas de CORS/credenciales declarativas.</li>
                            <li>No requieres eventos de progreso de subida detallados.</li>
                        </ul>
                    </div>

                    <div class="use-case-card xhr-card">
                        <h4>üîß Usa <code>XMLHttpRequest</code> si:</h4>
                        <ul>
                            <li>Debes soportar navegadores muy antiguos sin polyfills (p. ej., IE).</li>
                            <li>Necesitas eventos de progreso de subida o descarga sencillos y nativos.</li>
                            <li>Quieres timeout nativo sin construirlo t√∫.</li>
                            <li>Est√°s trabajando en una base de c√≥digo que ya usa XHR y migrar ahora ser√≠a costoso.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Promises -->
            <section class="content-section">
                <h2 class="section-heading">Promises (Promesas)</h2>
                <p>Imagina que eres un gran cantante y los fan√°ticos te preguntan d√≠a y noche por tu pr√≥xima canci√≥n.</p>
                <p>Para obtener algo de alivio, prometes envi√°rselos cuando se publique. Le das a tus fans una lista. Ellos pueden 
                registrar all√≠ sus direcciones de correo electr√≥nico, de modo que cuando la canci√≥n est√© disponible, todas las partes 
                suscritas la reciban instant√°neamente. E incluso si algo sale muy mal, digamos, un incendio en el estudio tal que no 
                puedas publicar la canci√≥n, a√∫n se les notificar√°.</p>

                <p><strong>Todos est√°n felices:</strong> t√∫, porque la gente ya no te abruma, y los fan√°ticos, porque no se perder√°n la canci√≥n.</p>

                <!-- IMAGE: Promise Analogy -->
                <figure class="content-image">
                    <img src="images/promises-analogia.png" alt="Analog√≠a de las promesas" class="img-rounded img-shadow">
                    <figcaption>Analog√≠a del cantante: c√≥mo funcionan las promesas</figcaption>
                </figure>

                <div class="promise-explanation">
                    <h3>Esta es una analog√≠a de la vida real para las cosas que a menudo tenemos en la programaci√≥n:</h3>
                    <div class="promise-parts">
                        <div class="promise-part">
                            <div class="promise-number">1</div>
                            <div class="promise-content">
                                <h4>C√≥digo Productor</h4>
                                <p>Un "c√≥digo productor" que hace algo y toma tiempo. Por ejemplo, alg√∫n c√≥digo que carga los datos a 
                                trav√©s de una red. <strong>Eso es un "cantante".</strong></p>
                            </div>
                        </div>
                        <div class="promise-part">
                            <div class="promise-number">2</div>
                            <div class="promise-content">
                                <h4>C√≥digo Consumidor</h4>
                                <p>Un "c√≥digo consumidor" que quiere el resultado del "c√≥digo productor" una vez que est√° listo. 
                                Muchas funciones pueden necesitar ese resultado. <strong>Estos son los "fans".</strong></p>
                            </div>
                        </div>
                        <div class="promise-part">
                            <div class="promise-number">3</div>
                            <div class="promise-content">
                                <h4>Promesa</h4>
                                <p>Una promesa es un objeto JavaScript especial que une el "c√≥digo productor" y el "c√≥digo consumidor". 
                                En t√©rminos de nuestra analog√≠a, <strong>esta es la "lista de suscripci√≥n".</strong></p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- IMAGE: Promise States -->
                <figure class="content-image">
                    <img src="images/promise-estados.png" alt="Estados de una promesa" class="img-rounded img-shadow">
                    <figcaption>Estados de una promesa: Pending, Fulfilled, Rejected</figcaption>
                </figure>

                <div class="promise-states">
                    <h3>Las promesas pueden cumplirse o no</h3>
                    <div class="states-grid">
                        <div class="state-card pending-card">
                            <div class="state-icon">‚è≥</div>
                            <h4>Pending (Pendiente)</h4>
                            <p>Estado inicial, la operaci√≥n no se ha completado a√∫n.</p>
                        </div>
                        <div class="state-card fulfilled-card">
                            <div class="state-icon">‚úÖ</div>
                            <h4>Fulfilled (Cumplida)</h4>
                            <p>La operaci√≥n se complet√≥ con √©xito.</p>
                        </div>
                        <div class="state-card rejected-card">
                            <div class="state-icon">‚ùå</div>
                            <h4>Rejected (Rechazada)</h4>
                            <p>La operaci√≥n fall√≥.</p>
                        </div>
                    </div>
                </div>

                <div class="use-cases-box">
                    <h3>Se usan promises principalmente en:</h3>
                    <ul>
                        <li>Peticiones HTTP a APIs</li>
                        <li>Lectura/escritura de archivos</li>
                        <li>Operaciones con bases de datos</li>
                        <li>Timeouts y delays</li>
                        <li>Cualquier operaci√≥n que tome tiempo</li>
                    </ul>
                </div>
            </section>

            <!-- Async/Await -->
            <section class="content-section">
                <h2 class="section-heading">Async/Await</h2>
                <p>Existe una sintaxis especial para trabajar con promesas de una forma m√°s confortable, llamada <strong>"async/await"</strong>. 
                Es sorprendentemente f√°cil de entender y usar.</p>

                <p>Las palabras clave <code>async</code> y <code>await</code>, implementadas a partir de ES2017, son una sintaxis que 
                simplifica la programaci√≥n as√≠ncrona, facilitando el flujo de escritura y lectura de c√≥digo; por lo que es posible escribir 
                c√≥digo que funcione de forma as√≠ncrona, pero que se lea y estructure de forma s√≠ncrona.</p>

                <!-- IMAGE: Async/Await Example -->
                <figure class="content-image">
                    <img src="images/async-await-ejemplo.png" alt="Ejemplo de Async/Await" class="img-rounded img-shadow">
                    <figcaption>Ejemplo de uso de async/await</figcaption>
                </figure>

                <div class="async-explanation">
                    <h3>¬øC√≥mo funciona?</h3>
                    <p>Al definir una funci√≥n como <code>async</code>, podemos usar la palabra clave <code>await</code> antes de cualquier 
                    expresi√≥n que retorne una promesa. De esta forma, la ejecuci√≥n de la funci√≥n externa (la funci√≥n async) se pausar√° hasta 
                    que se resuelva la Promesa.</p>

                    <p>La palabra clave <code>await</code> recibe una Promesa y la convierte en un valor de retorno (o genera una excepci√≥n 
                    en caso de error). Cuando usamos await, JavaScript esperar√° hasta que finalice la Promesa. Si se completa con √©xito 
                    (el t√©rmino utilizado es <strong>fulfilled</strong>), el valor obtenido es retornado. Si la Promesa es rechazada 
                    (el t√©rmino utilizado es <strong>rejected</strong>), se retorna el error arrojado por la excepci√≥n.</p>
                </div>

                <div class="important-note">
                    <div class="note-icon">‚ö†Ô∏è</div>
                    <div class="note-content">
                        <h4>Importante</h4>
                        <p><code>await</code> solo funciona si est√° dentro de otra funci√≥n <code>async</code></p>
                    </div>
                </div>

                <div class="use-cases-box">
                    <h3>Se usa async/await principalmente en estos casos:</h3>
                    <ul>
                        <li>Llamadas a APIs REST</li>
                        <li>Operaciones con bases de datos</li>
                        <li>Lectura/escritura de archivos</li>
                        <li>Cualquier operaci√≥n con promesas</li>
                        <li>Cuando queremos c√≥digo m√°s legible y mantenible</li>
                    </ul>
                </div>
            </section>

            <!-- Navigation -->
            <nav class="page-navigation">
                <a href="codigos-respuesta.html" class="nav-btn nav-prev">
                    ‚Üê C√≥digos de Respuesta HTTP
                </a>
                <a href="manejo-errores.html" class="nav-btn nav-next">
                    Manejo de Errores ‚Üí
                </a>
            </nav>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>Proyecto Acad√©mico</h4>
                    <p>ISW-512 Dise√±o de Aplicaciones Web<br>Universidad T√©cnica Nacional<br>2025 - Ciclo III</p>
                </div>
                <div class="footer-section">
                    <h4>Navegaci√≥n</h4>
                    <ul class="footer-links">
                        <li><a href="fundamentos.html">Fundamentos</a></li>
                        <li><a href="metodos-http.html">M√©todos HTTP</a></li>
                        <li><a href="demos.html">Demos</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Recursos</h4>
                    <ul class="footer-links">
                        <li><a href="#" target="_blank">Documentaci√≥n</a></li>
                        <li><a href="#" target="_blank">GitHub</a></li>
                        <li><a href="#" target="_blank">Referencias</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Grupo de APIs - Todos los derechos reservados</p>
            </div>
        </div>
    </footer>

    <script>
        // Mobile menu toggle
        const navToggle = document.querySelector('.nav-toggle');
        const navMenu = document.querySelector('.nav-menu');

        navToggle.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            navToggle.classList.toggle('active');
        });

        document.addEventListener('click', (e) => {
            if (!navToggle.contains(e.target) && !navMenu.contains(e.target)) {
                navMenu.classList.remove('active');
                navToggle.classList.remove('active');
            }
        });

        // Animate elements on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('fade-in');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.content-section').forEach(section => {
            observer.observe(section);
        });
    </script>
</body>
</html>